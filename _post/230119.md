---
categories:
  - ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´
date: '2023-01-19'
description: Node.js ë°±ì¤€(BOJ) 1927 í’€ì´ ë° í™ ìë£Œêµ¬ì¡°ì— ëŒ€í•œ ì„¤ëª…
title: 'ë°±ì¤€(BOJ) 1927ë²ˆ: ìµœì†Œ í™'
---

ì§€ë‚œ í¬ìŠ¤íŒ…ì—ì„œ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•´ ë¬¸ì œë¥¼ í’€ì´í•˜ë©° í™ ìë£Œêµ¬ì¡°ì— ëŒ€í•´ ì ê¹ ì–¸ê¸‰í•˜ê³  ë„˜ì–´ê°”ì—ˆë‹¤. ê·¸ë˜ì„œ ì˜¤ëŠ˜ì€ í™ ìë£Œêµ¬ì¡°ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ê³ , ë¬¸ì œë¥¼ í’€ì´í•˜ë©´ì„œ í™ ìë£Œêµ¬ì¡°ë¥¼ ì§ì ‘ êµ¬í˜„í•´ë³´ë ¤ í•œë‹¤.

## í™(Heap)ì´ë€?

í™(Heap)ì´ë€ ìµœëŒ“ê°’ ë° ìµœì†Ÿê°’ì„ ì°¾ì•„ë‚´ëŠ” ì—°ì‚°ì„ ë¹ ë¥´ê²Œ í•˜ê¸° ìœ„í•´ ê³ ì•ˆëœ ì™„ì „ ì´ì§„íŠ¸ë¦¬ë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•œ ìë£Œêµ¬ì¡°ì´ë©°, ì£¼ë¡œ ìš°ì„ ìˆœìœ„ íë¥¼ êµ¬í˜„í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.  
ë¶€ëª¨ë…¸ë“œì˜ í‚¤ê°’ì´ ìì‹ë…¸ë“œì˜ í‚¤ê°’ë³´ë‹¤ í•­ìƒ í° ìµœëŒ€í™, ê·¸ ë°˜ëŒ€ì¸ ìµœì†Œí™ ë‘ê°€ì§€ ì¢…ë¥˜ê°€ ìˆìœ¼ë©°, ë¶€ëª¨ë…¸ë“œì™€ ìì‹ë…¸ë“œ ê°„ì—ë§Œ ëŒ€ì†Œê´€ê³„ê°€ ì„±ë¦½í•œë‹¤.

## ë¶€ëª¨ë…¸ë“œì™€ ìì‹ë…¸ë“œì˜ ê´€ê³„

ë¶€ëª¨ì™€ ìì‹ë…¸ë“œê°„ì˜ ê´€ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```text
ì™¼ìª½ ìì‹ë…¸ë“œ index = ë¶€ëª¨ index x 2 + 1
ì˜¤ë¥¸ìª½ ìì‹ë…¸ë“œ index = ë¶€ëª¨ index x 2 + 2
ë¶€ëª¨ì˜ index = Math.floor(ìì‹ index - 1 / 2)
```

ë§Œì•½ ì²«ë²ˆì§¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

```text
ì™¼ìª½ ìì‹ë…¸ë“œ index = ë¶€ëª¨ index x 2
ì˜¤ë¥¸ìª½ ìì‹ë…¸ë“œ index = ë¶€ëª¨ index x 2 + 1
ë¶€ëª¨ì˜ index = Math.floor(ìì‹ index / 2)
```

## í™ì˜ ì‚½ì…

ìš°ì„  ë“¤ì–´ì˜¨ ê°’ì„ ë§ˆì§€ë§‰ ë…¸ë“œì— ì‚½ì…í•œ ë‹¤ìŒ, ë°˜ë³µë¬¸ì„ í†µí•´ ë¶€ëª¨ë…¸ë“œì™€ ë¹„êµí•˜ì—¬ ìœ„ì¹˜ë¥¼ êµí™˜ì‹œí‚¤ë©´ì„œ ì •ë ¬í•œë‹¤.

```javascript
insert = (value) => {
  this.heap.push(value); // ë§ˆì§€ë§‰ ë…¸ë“œì— ì‚½ì…
  this.heapifyUp(); // ìµœì†Œí™ êµ¬í˜„
};

heapifyUp = () => {
  let index = this.heap.length - 1;
  const lastInsertedNode = this.heap[index];

  while (index > 0) {
    const parentIndex = Math.floor((index - 1) / 2);

    // ë§ˆì§€ë§‰ì— ì‚½ì…ëœ ë…¸ë“œì™€ í˜„ì¬ ë¶€ëª¨ë…¸ë“œì˜ ê°’ê³¼ ë¹„êµí•˜ì—¬
    // ë¶€ëª¨ë…¸ë“œ ê°’ì´ í´ ê²½ìš°, ë¶€ëª¨ë…¸ë“œì™€ ìì‹ë…¸ë“œ ê°’ì„ swap
    if (this.heap[parentIndex] > lastInsertedNode) {
      this.heap[index] = this.heap[parentIndex];
      index = parentIndex;
    } else break;
  }

  this.heap[index] = lastInsertedNode;
};
```

## í™ì˜ ì‚­ì œ

ìš°ì„  ë£¨íŠ¸ ë…¸ë“œë¥¼ popì‹œí‚¨ ë‹¤ìŒ, í™ì—ì„œ ê°€ì¥ ë§ˆì§€ë§‰ì— ìˆëŠ” ë…¸ë“œë¥¼ ë£¨íŠ¸ë…¸ë“œë¡œ ê°€ì ¸ì˜¨ë‹¤.
ê·¸ë¦¬ê³  ë£¨íŠ¸ë…¸ë“œì™€ ìì‹ë…¸ë“œë¥¼ ë°˜ë³µì ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ì¬ì •ë ¬í•œë‹¤.

```javascript
remove = () => {
  const count = this.heap.length;
  if (count <= 0) return 0;

  const rootNode = this.heap[0];
  if (count === 1) this.heap = [];
  else {
    this.heap[0] = this.heap.pop(); // ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ë£¨íŠ¸ë…¸ë“œì— ê°€ì ¸ì˜¨ë‹¤
    this.heapifyDown(); // ìµœì†Œí™ êµ¬í˜„
  }

  return rootNode;
};

// ë³€ê²½ëœ ë£¨íŠ¸ë…¸ë“œê°€ ì œ ìë¦¬ë¥¼ ì°¾ì•„ê°€ë„ë¡ í•˜ëŠ” ë©”ì†Œë“œ
heapifyDown = () => {
  let index = 0;
  const count = this.heap.length;
  const rootNode = this.heap[index];

  // ìì‹ë…¸ë“œê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ë°˜ë³µë¬¸ì„ ì‹¤í–‰
  // ì™¼ìª½ë…¸ë“œê°€ ì—†ë‹¤ë©´ ìì‹ë…¸ë“œê°€ ì—†ëŠ” ê²ƒ
  while (index * 2 + 1 < count) {
    const leftChildIndex = index * 2 + 1;
    const rightChildIndex = index * 2 + 2;

    // ì˜¤ë¥¸ìª½ ìì‹ë…¸ë“œê°€ ì—†ë‹¤ë©´, ì™¼ìª½ ìì‹ë…¸ë“œì™€ ë¶€ëª¨ë…¸ë“œë¥¼ ë¹„êµ
    // ì˜¤ë¥¸ìª½ ìì‹ë…¸ë“œê°€ ìˆë‹¤ë©´, ë‘˜ ì¤‘ì— ì‘ì€ ê°’ì„ ê°€ì§„ ìì‹ë…¸ë“œì™€ ë¶€ëª¨ë…¸ë“œë¥¼ ë¹„êµ
    const smallerChildIndex =
      rightChildIndex < count && this.heap[rightChildIndex] < this.heap[leftChildIndex]
        ? rightChildIndex
        : leftChildIndex;

    // ìì‹ë…¸ë“œê°€ ë¶€ëª¨ë…¸ë“œë³´ë‹¤ ì‘ì€ ê²½ìš° swap
    if (this.heap[smallerChildIndex] < rootNode) {
      this.heap[index] = this.heap[smallerChildIndex];
      index = smallerChildIndex;
    } else break;
  }

  this.heap[index] = rootNode;
};
```

## ë¬¸ì œ

[BOJ 1927ë²ˆ: ìµœì†Œ í™](https://www.acmicpc.net/problem/1927)

![230119 ë¬¸ì œ ì´ë¯¸ì§€](/static/230119/boj-1927.png)

## í’€ì´ë°©ë²•

ìœ„ì—ì„œ ì •ë¦¬í•œ í™ ìë£Œêµ¬ì¡°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì†Œ í™ì„ êµ¬í˜„í•˜ì—¬ í’€ì´ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.  
xê°€ 0ë³´ë‹¤ í´ ê²½ìš° í™ì— ì‚½ì…í•˜ë©°, 0ì¸ ê²½ìš° ìµœì†Œê°’ì„ ì¶œë ¥í•˜ê³  í™ì—ì„œ ì‚­ì œë¥¼ ì§„í–‰í•˜ë©´ ëœë‹¤.

ë‹¤ë§Œ, ë°˜ë³µë¬¸ì„ í†µí•´ ìµœì†Œê°’ì„ ê³§ë°”ë¡œ ì¶œë ¥í•  ê²½ìš° ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒí•˜ì—¬ ë¹ˆ ë°°ì—´ì„ ìƒì„±í•˜ê³  joinì„ í†µí•´ í•œ ë²ˆì— ì¶œë ¥í•˜ë‹ˆ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.

```javascript
const fs = require('fs');
const input = fs.readFileSync('/dev/stdin').toString().trim().split('\n').map(Number);

const N = input[0];
const answer = [];
const heap = new Heap();

for (let i = 1; i <= N; i++) {
  const x = input[i];
  if (x > 0) {
    heap.insert(x);
  } else {
    // ë°˜ë³µë¬¸ë§ˆë‹¤ ì¶œë ¥í•  ê²½ìš° ì‹œê°„ì´ˆê³¼ ë°œìƒí•˜ì—¬ ë°°ì—´ì— ì‚½ì… í›„ joinì„ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆì— ì¶œë ¥
    answer.push(heap.remove(x));
  }
}

console.log(answer.join('\n'));
```

## ğŸ“– ì°¸ê³ ìë£Œ

[JavaScriptë¡œ Heap | Priority Queue êµ¬í˜„í•˜ê¸°](https://jun-choi-4928.medium.com/javascript%EB%A1%9C-heap-priority-queue-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-8bc13bf095d9)  
[í™(Heap) ìë£Œêµ¬ì¡°](<https://ko.wikipedia.org/wiki/%ED%9E%99_(%EC%9E%90%EB%A3%8C_%EA%B5%AC%EC%A1%B0)>)
